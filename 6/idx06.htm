<HTML>
<HEAD>
<TITLE>拼图游戏</TITLE>
<META  charset="UTF-8">
<script type="text/javascript">
	Image.prototype.srcid=0;
	Image.prototype.disp=function(){
		if(this.srcid>=10)
			this.src="images/t66_" + this.srcid + ".jpg";
		else
			this.src="images/t66_0" + this.srcid + ".jpg";
		this.title=this.srcid;
	}
	var bk;
	var flag=0;
	var imgarr=null;
	function swap(x){
		if(flag==2)return;
		if(imgarr){
			if(x!=bk){
				var t=bk.srcid;
				bk.srcid = x.srcid;
				x.srcid = t;
				x.disp();
				bk.disp();
				bk=x;
			}
			if(flag==1)disp();
		}
		
	}
	function disp(){
		for(var i=0;i<14;i++){
			if(imgarr[i].srcid !=i+1){
				console.info("i="+(i+1)+",sid="+imgarr[i].srcid);
				return;
      }
		}
		bk.srcid=16;
		bk.disp();
		flag=2;
		alert("拼图完成");
	}
	function ss(){
		if(flag<1){
			imgarr=myimg;
			var i;
			flag=0;
			for(i=0;i<16;i++) imgarr[i].srcid = i;
				bk= imgarr[0];
				for(i=0;i<16;i++){
					var t= Math.round(Math.random()*15);
					swap(imgarr[t]);
				}
					swap(imgarr[15]);
					for(i=0;i<16;i++)imgarr[i].disp();
					flag=1;
		}}
</script>
<style>
button{background:url(images/btn2.jpg);width:100px;}
body{text-align: center;}
</style>
</HEAD>
<BODY BGCOLOR=#FFFFFF LEFTMARGIN=0 TOPMARGIN=0 MARGINWIDTH=0 MARGINHEIGHT=0>
<!-- ImageReady Slices (t66.jpg) -->
<TABLE WIDTH=800 BORDER=0 CELLPADDING=0 CELLSPACING=0 align="center">
	<TR>
		<TD>
			<IMG SRC="images/t66_01.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
		<TD>
			<IMG SRC="images/t66_02.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
		<TD>
			<IMG SRC="images/t66_03.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
		<TD>
			<IMG SRC="images/t66_04.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
                <td rowspan=4 width=400><img src="images/t66.jpg"></td>
	</TR>
	<TR>
		<TD>
			<IMG SRC="images/t66_05.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
		<TD>
			<IMG SRC="images/t66_06.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
		<TD>
			<IMG SRC="images/t66_07.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
		<TD>
			<IMG SRC="images/t66_08.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
	</TR>
	<TR>
		<TD>
			<IMG SRC="images/t66_09.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
		<TD>
			<IMG SRC="images/t66_10.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
		<TD>
			<IMG SRC="images/t66_11.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
		<TD>
			<IMG SRC="images/t66_12.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
	</TR>
	<TR>
		<TD>
			<IMG SRC="images/t66_13.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
		<TD>
			<IMG SRC="images/t66_14.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
		<TD>
			<IMG SRC="images/t66_15.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
		<TD>
			<IMG SRC="images/t66_16.jpg" WIDTH=100 HEIGHT=100 name="myimg" onclick="swap(this)"></TD>
	</TR>
</TABLE>
<button onclick="ss()">开始</button>
<!-- End ImageReady Slices -->
</BODY>
</HTML>